if (self.CavalryLogger) { CavalryLogger.start_js(["w21Po"]); }

__d('ReactComposerCreateNoteController.react',['ReactComposerContextMixin','AsyncRequest','Bootloader','React','XNotesComposerController'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=c('React').createClass({displayName:'ReactComposerCreateNoteController',mixins:[c('ReactComposerContextMixin')],propTypes:{onClick:h.func},render:function j(){return (c('React').createElement('span',{onClick:this._onClick,role:'presentation'},this.props.children));},_onClick:function j(event){c('Bootloader').loadModules(["AsyncDialog"],function(k){var l=c('XNotesComposerController').getURIBuilder().getURI(),m=new (c('AsyncRequest'))(l).setMethod('POST').setStatusElement(this.context.composerID);k.send(m);}.bind(this),'ReactComposerCreateNoteController.react');this.props.onClick&&this.props.onClick(event);}});f.exports=i;}),null);
__d('ReactComposerNotesAttachmentSelector.react',['fbt','ix','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerCreateNoteController.react','ReactComposerLoggingName','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerNotesAttachmentSelector',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{label:j.string},getDefaultProps:function l(){return {label:h._("Write Note")};},render:function l(){return (c('React').createElement(c('ReactComposerCreateNoteController.react'),null,c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').NOTES,label:this.props.label,icon:i("images\/litestand\/composer\/icons\/note.png"),onSelected:this._onSelected,loggingName:c('ReactComposerLoggingName').NOTES_TAB_SELECTOR})));}});f.exports=k;}),null);
__d('ReactComposerHeader.react',['cx','ReactComposerHeaderCore.react','ReactComposerHeaderProps','CurrentUser','ReactComponentWithPureRenderMixin','React','TooltipLink.react','joinClasses'],(function a(b,c,d,e,f,g,h){var i=c('React').createClass({displayName:'ReactComposerHeader',mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:c('ReactComposerHeaderProps').propTypes,getDefaultProps:c('ReactComposerHeaderProps').getDefaultProps,render:function j(){return (c('React').createElement(c('ReactComposerHeaderCore.react'),babelHelpers['extends']({className:c('joinClasses')(this.props.className,(c('React').Children.count(this.props.attachmentSelectors)>3?"_1fu5":'')+(c('React').Children.count(this.props.attachmentSelectors)<3?' '+"_tqc":''))},this.props),this.props.rightChild));}});f.exports=i;}),null);
__d('ReactFeedComposerX.react',['cx','fbt','ReactComposer.react','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerBodyContainer.react','ReactComposerConfig','ReactComposerContextConfig','ReactComposerContextProviderMixin','ReactComposerDraftController.react','ReactComposerDraftGet','ReactComposerEvents','ReactComposerFeedBootloader','ReactComposerFeedMediaPostButtonContainer.react','ReactComposerFeedPostButtonContainer.react','ReactComposerHeader.react','ReactComposerAlbumAttachmentSelector.react','ReactComposerInstantMediaAttachmentSelectorContainer.react','ReactComposerLiveVideoAttachmentSelector.react','ReactComposerLiveVideoLazyAttachment.react','ReactComposerLiveVideoPreviewButton.react','ReactComposerMediaAttachmentSelector.react','ReactComposerMediaEagerAttachment.react','ReactComposerNotesAttachmentSelector.react','ReactComposerPrefillConfig','ReactComposerPrefillUtils','ReactComposerQAndAAttachmentSelector.react','ReactComposerQAndALazyAttachment.react','ReactComposerStatusEagerAttachment.react','Arbiter','LitestandComposer','React'],(function a(b,c,d,e,f,g,h,i){var j=c('React').createClass({displayName:'ReactFeedComposerX',mixins:[c('ReactComposerContextProviderMixin')],propTypes:{contextConfig:c('ReactComposerContextConfig').isRequired,config:c('ReactComposerConfig').isRequired,prefillConfig:c('ReactComposerPrefillConfig')},componentWillMount:function k(){this.props.prefillConfig&&c('ReactComposerPrefillUtils').prefill(this.props.contextConfig.composerID,this.props.prefillConfig);},componentDidMount:function k(){c('LitestandComposer').initComposer(this.props.contextConfig.composerID);var l=this.props.prefillConfig;if(l&&l.selectedAttachment){c('ReactComposerAttachmentActions').selectAttachment(this.props.contextConfig.composerID,l.selectedAttachment,l.shouldActivateSelectedAttachment);if(l.shouldActivateSelectedAttachment)c('Arbiter').inform(c('ReactComposerEvents').ACTIVATE_ATTACHMENT+this.props.contextConfig.composerID);}var m=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS];if(m.enableDrafts)this.refs.draftController.init();},render:function k(){var l=this.props.prefillConfig,m=l&&l.selectedAttachment?l.selectedAttachment:c('ReactComposerAttachmentType').STATUS,n=this._getAttachmentComponents(m),o=n[0],p=n[1],q=c('React').createElement(c('ReactComposer.react'),{className:"_5n2b",loggingConfig:this.props.config.loggingConfig},c('React').createElement(c('ReactComposerHeader.react'),{attachmentSelectors:o,showDelimiter:true,truncateSelectorText:true}),c('React').createElement(c('ReactComposerBodyContainer.react'),{expanded:this.props.config.showExpandedComposer},p)),r=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS];if(r.enableDrafts)q=c('React').createElement(c('ReactComposerDraftController.react'),{ref:'draftController'},q);return q;},_getAttachmentComponents:function k(l){var m=this.props.config.attachmentsConfig,n=[],o=[];if(m[c('ReactComposerAttachmentType').STATUS].enabled)o.push(this._getStatusAttachment(l===c('ReactComposerAttachmentType').STATUS));o.push(this._getMediaAttachment(l===c('ReactComposerAttachmentType').MEDIA));n.push(this._getMediaAttachmentSelector());if(m[c('ReactComposerAttachmentType').LIVE_VIDEO].enabled){n.push(this._getLiveVideoSelector());o.push(this._getLiveVideoAttachment(l===c('ReactComposerAttachmentType').LIVE_VIDEO));}if(m[c('ReactComposerAttachmentType').ALBUM].enabled&&!m[c('ReactComposerAttachmentType').ALBUM].suppressSelector)n.push(this._getAlbumAttachmentSelector());if(m[c('ReactComposerAttachmentType').NOTES].enabled&&!m[c('ReactComposerAttachmentType').NOTES].suppressSelector)n.push(this._getNotesAttachmentSelector());if(m[c('ReactComposerAttachmentType').QANDA].enabled){if(!m[c('ReactComposerAttachmentType').QANDA].suppressSelector)n.push(this._getQAndAAttachmentSelector());o.push(this._getQAndAAttachment());}return [n,o];},_getStatusAttachment:function k(l){var m=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').STATUS].placeholderText;if(c('ReactComposerDraftGet').hasDraft(this.props.contextConfig.actorID)){var n=c('ReactComposerDraftGet').getDraft(this._actorID);if(n){this._textarea.value=n.prefillConfig.mentionsInput.textWithEntities.text;this._textarea.placeholder=i._("Continue creating your post...");}}return (c('React').createElement(c('ReactComposerStatusEagerAttachment.react'),{key:'status',config:this.props.config,prefillConfig:this.props.prefillConfig,selected:l,postButtonModule:c('ReactComposerFeedPostButtonContainer.react'),placeholder:m}));},_getAlbumAttachmentSelector:function k(){return (c('React').createElement(c('ReactComposerAlbumAttachmentSelector.react'),{key:'album',createAlbumLink:this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').ALBUM].createAlbumLink}));},_getNotesAttachmentSelector:function k(){return (c('React').createElement(c('ReactComposerNotesAttachmentSelector.react'),{key:'notes'}));},_getQAndAAttachmentSelector:function k(){return (c('React').createElement(c('ReactComposerQAndAAttachmentSelector.react'),{key:'qanda'}));},_getQAndAAttachment:function k(){return (c('React').createElement(c('ReactComposerQAndALazyAttachment.react'),{key:'qanda',config:this.props.config,bootloader:c('ReactComposerFeedBootloader')}));},_getMediaAttachmentSelector:function k(){var l=this.props.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];if(l.openFileBrowserImmediately)return (c('React').createElement(c('ReactComposerInstantMediaAttachmentSelectorContainer.react'),{key:'media',disableFaceRecognition:l.disableFaceboxTagger,mediaAcceptParam:this.props.config.mediaAcceptParam,photoLimit:l.photoLimit,targetData:this.props.config.targetData,mediaConfig:l}));return (c('React').createElement(c('ReactComposerMediaAttachmentSelector.react'),{key:'media',label:i._("Add Photos\/Video")}));},_getMediaAttachment:function k(l){return (c('React').createElement(c('ReactComposerMediaEagerAttachment.react'),{key:'media',config:this.props.config,postButtonModule:c('ReactComposerFeedMediaPostButtonContainer.react'),selected:l}));},_getLiveVideoSelector:function k(){return (c('React').createElement(c('ReactComposerLiveVideoAttachmentSelector.react'),{key:'live_video'}));},_getLiveVideoAttachment:function k(l){return (c('React').createElement(c('ReactComposerLiveVideoLazyAttachment.react'),{key:'live_video',config:this.props.config,postButtonModule:c('ReactComposerLiveVideoPreviewButton.react'),selected:l}));}});f.exports=j;}),null);
__d('ReactFeedComposerXBootloader',['csx','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerInit','ReactComposerLoggingName','ReactComposerPromptsStore','ReactFeedComposerX.react','Arbiter','AsyncRequest','Bootloader','ComposerEntryPointRef','CSS','DOM','Event','PUWMethods','ReactInputSelection','SubscriptionsHandler','XReactComposerLoggingODSController','$','getActiveElement'],(function a(b,c,d,e,f,g,h){'use strict';var i=void 0,j={_inputDOM:HTMLElement,bootload:function k(l,m){var n=c('$')('feedx_container'),o=c('DOM').find(n,"._559p"),p=c('CSS').hasClass(o,'async_saving');if(p){i=new (c('SubscriptionsHandler'))();i.addSubscriptions(c('Event').listen(o,'success',function(){this._bootloadImpl(l,n,m);}.bind(this)),c('Event').listen(o,'error',function(){this._bootloadImpl(l,n,m);}.bind(this)));}else this._bootloadImpl(l,n,m);},_bootloadImpl:function k(l,m,n){n.config.audienceXHP=this._getXHPToReactNode(m,"._ej0");var o=c('DOM').scry(m,"._21h7")[0];if(!o)o=c('DOM').find(m,"._4d6h");var p=c('DOM').scry(o,'input[name="composer_photo[]"]')[0],q=c('ReactComposerAttachmentType').STATUS;if(p){this._inputDOM=p;c('Event').listen(this._inputDOM,'change',function(){if(this._inputDOM.files&&this._inputDOM.files.length>0){this._uploadExistingFiles(this._inputDOM.files,l,n);c('ReactComposerAttachmentActions').selectAttachment(l,c('ReactComposerAttachmentType').MEDIA,true,c('ReactComposerLoggingName').MEDIA_TAB_SELECTOR);}}.bind(this));if(p.files&&p.files.length>0){q=c('ReactComposerAttachmentType').MEDIA;this._uploadExistingFiles(p.files,l,n);}}n.prefillConfig=Object.assign(n.prefillConfig,this._appendPrefillConfig(m,l,q));c('ReactComposerInit').init(c('ReactFeedComposerX.react'),n,m);var r=c('XReactComposerLoggingODSController').getURIBuilder().setString('event','bootload_done').setEnum('composer_type',c('ComposerEntryPointRef').FEEDX).getURI();new (c('AsyncRequest'))(r).send();i&&i.release();c('Arbiter').inform('ReactFeedComposerXBootloader/bootload/'+l);},_appendPrefillConfig:function k(l,m){var n=arguments.length<=2||arguments[2]===undefined?c('ReactComposerAttachmentType').STATUS:arguments[2],o=c('DOM').find(l,"._3en1"),p=c('getActiveElement')()==o||c('CSS').hasClass(c('DOM').find(l,'.focus_target'),'child_was_focused'),q={text:o.value},r=this._getXHPToReactNode(l,"._1sek"),s=c('ReactComposerPromptsStore').getMinutiaeData(m);return {mentionsInput:{textWithEntities:q,selection:c('ReactInputSelection').getSelection(o)},selectedAttachment:n,shouldActivateSelectedAttachment:p||!!s,prompt:r,taggersData:s};},_getXHPToReactNode:function k(l,m){var n=c('DOM').scry(l,m);if(n.length===0)return null;var o=n[0],p=o.cloneNode(true);o.parentNode.replaceChild(p,o);return o;},_uploadExistingFiles:function k(l,m,n){var o=n.config.attachmentsConfig[c('ReactComposerAttachmentType').MEDIA];c('Bootloader').loadModules(["ReactComposerMediaUtils","ReactComposerPhotoUploader"],function(p,q){return (p.uploadPhotosOrVideo(m,Array.prototype.slice.call(l),new q(n.contextConfig,o.photoLimit,{disableFaceRecognition:o.disableFaceboxTagger}),n.config.targetData.targetSupportsMultiplePhotos,c('PUWMethods').FILE_SELECTOR,false));},'ReactFeedComposerXBootloader');}};f.exports=j;}),null);