if (self.CavalryLogger) { CavalryLogger.start_js(["ljtb8"]); }

__d('ReactComposerLiveVideoPreviewButton.react',['fbt','React','XUIAmbientNUX.react','XUIButton.react'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.$ReactComposerLiveVideoPreviewButton1=function(){'use strict';return (c('React').createElement(c('XUIAmbientNUX.react'),{contextRef:function(){return this.refs.button;}.bind(this),shown:this.props.showNUX,position:'below',width:'auto',onCloseButtonClick:this.props.onNUXCloseButtonClick},h._("Click to continue. The next screen will show a preview before you go live.")));};l.prototype.render=function(){'use strict';return (c('React').createElement('span',null,c('React').createElement(c('XUIButton.react'),{disabled:this.props.disabled,ref:'button',label:h._("Next"),onClick:this.props.onClick,use:'confirm'}),this.$ReactComposerLiveVideoPreviewButton1()));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={disabled:k.bool,showNUX:k.bool,onClick:function m(){},onNUXCloseButtonClick:function m(){}};f.exports=l;}),null);
__d('ReactComposerInstantMediaAttachmentSelector.react',['fbt','ix','ReactComposerAttachmentSelectorContainer.react','ReactComposerAttachmentType','ReactComposerContextMixin','ReactComposerLoggingName','ComposerTargetData','ReactComponentWithPureRenderMixin','React'],(function a(b,c,d,e,f,g,h,i){var j=c('React').PropTypes,k=c('React').createClass({displayName:'ReactComposerInstantMediaAttachmentSelector',mixins:[c('ReactComposerContextMixin'),c('ReactComponentWithPureRenderMixin')],propTypes:{targetData:j.instanceOf(c('ComposerTargetData')).isRequired,icon:j.object},render:function l(){var m=h._("Photo\/Video");return (c('React').createElement(c('ReactComposerAttachmentSelectorContainer.react'),{attachmentID:c('ReactComposerAttachmentType').MEDIA,label:m,icon:this.props.icon||i("images\/facelift\/composer\/icons\/camera_16.png"),'data-testid':'media-attachment-selector',loggingName:c('ReactComposerLoggingName').MEDIA_TAB_SELECTOR,disableSelectAttachment:true}));}});f.exports=k;}),null);
__d('ReactComposerInstantMediaAttachmentSelectorContainer.react',['cx','ReactComposerInstantMediaAttachmentSelector.react','ReactComposerLoggingName','ReactComposerMediaFilePickerController.react','ComposerTargetData','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').PureComponent);j=i&&i.prototype;l.prototype.render=function(){'use strict';return (c('React').createElement(c('ReactComposerMediaFilePickerController.react'),babelHelpers['extends']({},this.props,{loggingName:c('ReactComposerLoggingName').MEDIA_TAB_SELECTOR,containerClassName:"_yt4"}),c('React').createElement(c('ReactComposerInstantMediaAttachmentSelector.react'),babelHelpers['extends']({},this.props,{targetData:this.props.targetData,'data-testid':'instant-media-attachment-selector'}))));};function l(){'use strict';i.apply(this,arguments);}l.propTypes={disableFaceRecognition:k.bool.isRequired,mediaAcceptParam:k.shape({photos:k.string,both:k.string}).isRequired,photoLimit:k.number.isRequired,targetData:k.instanceOf(c('ComposerTargetData')).isRequired,icon:k.object};l.defaultProps={disableFaceRecognition:false};f.exports=l;}),null);
__d('ReactComposerFeedBootloader',['Bootloader'],(function a(b,c,d,e,f,g){'use strict';var h={statusAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerStatusAttachmentContainer.react","ReactComposerFeedPostButtonContainer.react"],j,'ReactComposerFeedBootloader');},mediaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerMediaAttachmentContainer.react","ReactComposerFeedMediaPostButtonContainer.react"],j,'ReactComposerFeedBootloader');},qandaAttachment:function i(j){c('Bootloader').loadModules(["ReactComposerQAndAAttachmentContainer.react","ReactComposerFeedMediaPostButtonContainer.react"],j,'ReactComposerFeedBootloader');}};f.exports=h;}),null);
__d('ReactComposerFeedStore',['ReactComposerActionStore','ReactComposerMediaConfig','ReactComposerPostUtils','Bootloader'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ReactComposerActionStore'));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this);}j.prototype.__onPostStarted=function(k){'use strict';var l=this.validateAction(k,'composerID');c('ReactComposerPostUtils').post({actorID:k.actorID,composerConfig:k.config,composerID:l,targetID:k.targetID});c('Bootloader').loadModules(["ReactComposerMagicTagSurvey"],function(m){return (m.loadSurvey(l));},'ReactComposerFeedStore');};j.prototype.__canPost=function(k){'use strict';return !c('ReactComposerPostUtils').isPostButtonDisabled(k.composerID,c('ReactComposerMediaConfig').photo.limit);};j.prototype.__onPostSucceeded=function(k){'use strict';var l=this.validateAction(k,'composerID');c('Bootloader').loadModules(["ReactComposerFeedSurvey"],function(m){return (m.onPostSucceeded(l));},'ReactComposerFeedStore');};f.exports=new j();}),null);
__d('ReactComposerFeedMediaPostButtonContainer.react',['ReactComposerContextMixin','ReactComposerFeedStore','ReactComposerMediaPostButtonContainerMixin','React'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerFeedMediaPostButtonContainer',mixins:[c('ReactComposerContextMixin'),c('ReactComposerMediaPostButtonContainerMixin')],componentDidMount:function i(){c('ReactComposerFeedStore').registerComposerID(this.context.composerID);}});f.exports=h;}),null);
__d('ReactComposerFeedPostButtonContainer.react',['ReactComposerContextMixin','ReactComposerFeedStore','ReactComposerPostButtonContainerMixin','React'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerFeedPostButtonContainer',mixins:[c('ReactComposerContextMixin'),c('ReactComposerPostButtonContainerMixin')],componentDidMount:function i(){c('ReactComposerFeedStore').registerComposerID(this.context.composerID);}});f.exports=h;}),null);
__d('ReactComposerDraftCleared',['ReactComposerStatusStore'],(function a(b,c,d,e,f,g){var h={},i={},j={setupDraftClearedListener:function k(l){j.cleanupDraftClearedListener(l);i[l]=false;h[l]=c('ReactComposerStatusStore').addChangeListener(function(){if(!c('ReactComposerStatusStore').getMessageText(l)){i[l]=true;j.cleanupDraftClearedListener(l);}});},cleanupDraftClearedListener:function k(l){if(h[l]){h[l].remove();delete h[l];}},hasDraftCleared:function k(l){return i[l];}};f.exports=j;}),null);
__d('ReactComposerDraftLoad',['fbt','ReactComposerActions','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerDraftDelete','ReactComposerDraftEventLogger','ReactComposerDraftGet','ReactComposerPrefillUtils','ReactComposerTaggerType','SearchableEntry'],(function a(b,c,d,e,f,g,h){var i={loadDraft:function j(k,l,m,n){var o=i._getDraftPrefillConfig(k,l,m);if(n&&o&&n!==o.selectedAttachment)return;o&&c('ReactComposerPrefillUtils').prefill(l,o);if(o&&o.selectedAttachment){c('ReactComposerAttachmentActions').selectAttachment(l,o.selectedAttachment,true);c('ReactComposerActions').collapseSprouts(l);}},_getDraftPrefillConfig:function j(k,l,m){try{var o=c('ReactComposerDraftGet').getDraft(k);if(o){i._convertObjectToSearchableEntry(o.prefillConfig.taggersData);return o.prefillConfig;}else c('ReactComposerDraftDelete').deleteDraft(k);}catch(n){var p=h._("Sorry, we are unable to retrieve your draft.");alert(p);c('ReactComposerDraftEventLogger').log('error_retrieve_draft',m);}return null;},_convertObjectToSearchableEntry:function j(k){if(k[c('ReactComposerTaggerType').ACTIVITY].action&&k[c('ReactComposerTaggerType').ACTIVITY].object){k[c('ReactComposerTaggerType').ACTIVITY].action=new (c('SearchableEntry'))(k[c('ReactComposerTaggerType').ACTIVITY].action);k[c('ReactComposerTaggerType').ACTIVITY].object=new (c('SearchableEntry'))(k[c('ReactComposerTaggerType').ACTIVITY].object);}if(k[c('ReactComposerTaggerType').LOCATION].place)k[c('ReactComposerTaggerType').LOCATION].place=new (c('SearchableEntry'))(k[c('ReactComposerTaggerType').LOCATION].place);k[c('ReactComposerTaggerType').PEOPLE].forEach(function(l,m,n){n[m]=new (c('SearchableEntry'))(l);});}};f.exports=i;}),null);
__d('ReactComposerDraftController.react',['ReactComposerAttachmentType','ReactComposerContextMixin','ReactComposerDraftCleared','ReactComposerDraftDelete','ReactComposerDraftEventLogger','ReactComposerDraftGet','ReactComposerDraftLoad','ReactComposerEvents','Arbiter','React','SubscriptionsHandler'],(function a(b,c,d,e,f,g){var h=c('React').createClass({displayName:'ReactComposerDraftController',_subscriptionsHandler:undefined,_hadStatusDraft:false,mixins:[c('ReactComposerContextMixin')],componentWillMount:function i(){this._subscriptionsHandler=new (c('SubscriptionsHandler'))();this._subscriptionsHandler.addSubscriptions(c('Arbiter').subscribe([c('ReactComposerEvents').POST_SUCCEEDED+this.context.composerID,c('ReactComposerEvents').OPTIMISTIC_POSTING_STARTED+this.context.composerID],function(){c('ReactComposerDraftDelete').deleteDraft(this.context.actorID);if(this._hadStatusDraft){if(c('ReactComposerDraftCleared').hasDraftCleared(this.context.composerID)){c('ReactComposerDraftEventLogger').log('draft_not_used',this.context.gks);}else c('ReactComposerDraftEventLogger').log('draft_used',this.context.gks);this._hadStatusDraft=false;}}.bind(this)));},componentWillUnmount:function i(){this._subscriptionsHandler&&this._subscriptionsHandler.release();c('ReactComposerDraftCleared').cleanupDraftClearedListener(this.context.composerID);},render:function i(){return this.props.children;},init:function i(j){c('ReactComposerDraftLoad').loadDraft(this.context.actorID,this.context.composerID,this.context.gks,j);var k=c('ReactComposerDraftGet').getDraft(this.context.actorID),l=k&&k.prefillConfig;this._hadStatusDraft=!!(l&&l.selectedAttachment&&l.selectedAttachment===c('ReactComposerAttachmentType').STATUS&&l.mentionsInput.textWithEntities.text);c('ReactComposerDraftCleared').setupDraftClearedListener(this.context.composerID);}});f.exports=h;}),null);